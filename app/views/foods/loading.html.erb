<div class="min-h-screen flex items-center justify-center bg-gray-100">
  <div class="text-center">
    <!-- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆé£Ÿã¹ç‰©ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ãŸå›è»¢ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ -->
    <div class="relative mb-8">
      <div class="loading-spinner">
        <div class="spinner-bowl"></div>
        <div class="spinner-food">ğŸœ</div>
      </div>
    </div>
    
    <!-- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ†ã‚­ã‚¹ãƒˆ -->
    <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800 mb-4">
      æ¤œç´¢ã—ã¦ã„ã¾ã™
    </h2>
    
    <!-- ãƒ‰ãƒƒãƒˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <div class="loading-dots">
      <span>.</span>
      <span>.</span>
      <span>.</span>
    </div>
  </div>
</div>

<script>
  // URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦æ™‚é–“ã‚’æ±ºå®š
  const urlParams = new URLSearchParams(window.location.search);
  const source = urlParams.get('source');
  let loadingTime = 3000; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ3ç§’
  
  // ã”é£¯å¤‰æ›´ã‹ã‚‰ã®é·ç§»ã®å ´åˆã¯1.5ç§’
  if (source === 'change') {
    loadingTime = 1000;
  }
  
  // æŒ‡å®šæ™‚é–“å¾Œã«çµæœç”»é¢ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
  setTimeout(function() {
    window.location.href = '<%= result_path(@result.slug) %>';
  }, loadingTime);
</script>

<style>
  .loading-spinner {
    width: 120px;
    height: 120px;
    margin: 0 auto;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .spinner-bowl {
    width: 100px;
    height: 100px;
    border: 8px solid #f3f4f6;
    border-top: 8px solid #f97316;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    position: absolute;
  }
  
  .spinner-food {
    font-size: 3rem;
    animation: bounce 1.5s ease-in-out infinite;
    z-index: 10;
  }
  
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  
  @keyframes bounce {
    0%, 20%, 50%, 80%, 100% {
      transform: translateY(0);
    }
    40% {
      transform: translateY(-10px);
    }
    60% {
      transform: translateY(-5px);
    }
  }
  
  .loading-dots {
    display: inline-block;
    font-size: 2rem;
    font-weight: bold;
    color: #f97316;
  }
  
  .loading-dots span {
    animation: dots 1.5s infinite;
  }
  
  .loading-dots span:nth-child(1) {
    animation-delay: 0s;
  }
  
  .loading-dots span:nth-child(2) {
    animation-delay: 0.2s;
  }
  
  .loading-dots span:nth-child(3) {
    animation-delay: 0.4s;
  }
  
  @keyframes dots {
    0%, 20% {
      color: #f97316;
      transform: scale(1);
    }
    50% {
      color: #ea580c;
      transform: scale(1.2);
    }
    100% {
      color: #f97316;
      transform: scale(1);
    }
  }
</style>